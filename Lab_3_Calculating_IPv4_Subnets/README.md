# Лабораторная работа: Расчет IPv4 подсетей

## Задачи

**Часть 1.** Определение подсетей по IPv4-адресу  
**Часть 2.** Расчет подсетей по IPv4-адресу

## Общие сведения/сценарий

Умение работать с IPv4-подсетями и определять информацию о сетях и узлах на основе известного IP-адреса и маски подсети необходимо для понимания принципов работы IPv4-сетей. Цель первой части — закрепить знания о том, как рассчитывать IP-адрес сети на основе известного IP-адреса и маски подсети. Зная IP-адрес и маску подсети, вы всегда сможете получить другие данные об этой подсети.

## Необходимые ресурсы

- 1 ПК (Windows с доступом в Интернет)
- Дополнительно: калькулятор IPv4-адресов (не использовался)

---

## Проблема 1

| Дано: | |
|-------|--|
| **IP-адрес узла:** | 192.168.200.139 |
| **Исходная маска подсети:** | 255.255.255.0 |
| **Новая маска подсети:** | 255.255.255.224 |

*Данная таблица содержит всю информацию, необходимую для запуска новой подсети, содержащей данный IP-адрес хоста.*

### Решение (двоичным методом):

**Исходная маска:** 11111111.11111111.11111111.00000000  
**Исходная сеть:** 192.168.200.0  
**Новая маска:** 11111111.11111111.11111111.11100000  

- 3 бита 4-го октета под подсети
- 5 бит 4-го октета под адреса хостов
- Количество подсетей: 2^3 = 8 подсетей
- Количество хостов в каждой подсети: 2^5 - 2 = 30

**Нахождение подсетей:**

**Подсеть #1:**  
Сеть: 192.168.200.{000 00000} = 192.168.200.0  
Первый хост: 192.168.200.1, Broadcast: 192.168.200.31

**Подсеть #2:**  
Сеть: 192.168.200.{001 00000} = 192.168.200.32  
Первый хост: 192.168.200.33, Broadcast: 192.168.200.63

**Подсеть #3:**  
Сеть: 192.168.200.{010 00000} = 192.168.200.64  
Первый хост: 192.168.200.65, Broadcast: 192.168.200.95

**Подсеть #4:**  
Сеть: 192.168.200.{011 00000} = 192.168.200.96  
Первый хост: 192.168.200.97, Broadcast: 192.168.200.127

**Подсеть #5:**  
Сеть: 192.168.200.{100 00000} = 192.168.200.128  
Первый хост: 192.168.200.129, Broadcast: 192.168.200.159

Узел 192.168.200.139 входит в диапазон **подсети #5 (192.168.200.128-159)**

| Найти: | |
|--------|--|
| **Количество бит подсети** | 3 |
| **Количество созданных подсетей** | 8 |
| **Количество бит узлов в подсети** | 5 |
| **Количество узлов в подсети** | 30 |
| **Сетевой адрес этой подсети** | **192.168.200.128** |
| **IPv4-адрес первого узла в этой подсети** | **192.168.200.129** |
| **IPv4-адрес последнего узла в этой подсети** | **192.168.200.158** |
| **Широковещательный IPv4-адрес в этой подсети** | **192.168.200.159** |

*Таблица поиска позволяет ввести информацию относительно новой подсети, которая включает IP-адрес хоста в данной таблице. Введите свои ответы в ячейках, помеченных как «пустые».*

---

## Проблема 2

| Дано: | |
|-------|--|
| **IP-адрес узла:** | 10.101.99.228 |
| **Исходная маска подсети:** | 255.0.0.0 |
| **Новая маска подсети:** | 255.255.128.0 |

*Данная таблица содержит всю информацию, необходимую для запуска новой подсети, содержащей данный IP-адрес хоста.*

### Решение (методом "Магическое число"):

**Исходная маска:** 11111111.00000000.00000000.00000000  
**Исходная сеть:** 10.0.0.0  
**Новая маска:** 11111111.11111111.10000000.00000000  

- 9 бит выделено под подсети (8 + 1)
- 15 бит выделено под хосты (7 + 8)
- Количество подсетей: 2^9 = 512 подсетей
- Количество хостов в каждой подсети: 2^15 - 2 = 32766

**"Интересный" октет в маске = 128**  
**Магическое число:** 256 - 128 = 128

Список адресов подсетей:
- **Подсеть #1:** 10.101.0.0
- **Подсеть #2:** 10.101.128.0

Адрес 10.101.99.228 входит в подсеть **10.101.0.0**

| Найти: | |
|--------|--|
| **Количество бит подсети** | 9 |
| **Количество созданных подсетей** | 512 |
| **Количество бит узлов в подсети** | 15 |
| **Количество узлов в подсети** | 32766 |
| **Сетевой адрес этой подсети** | 10.101.0.0 |
| **IPv4-адрес первого узла в этой подсети** | 10.101.0.1 |
| **IPv4-адрес последнего узла в этой подсети** | 10.101.127.254 |
| **Широковещательный IPv4-адрес в этой подсети** | 10.101.127.255 |

*Таблица поиска позволяет ввести информацию относительно новой подсети, которая включает IP-адрес хоста в данной таблице. Введите свои ответы в ячейках, помеченных как «пустые».*

---

## Проблема 3

| Дано: | |
|-------|--|
| **IP-адрес узла:** | 172.22.32.12 |
| **Исходная маска подсети:** | 255.255.0.0 |
| **Новая маска подсети:** | 255.255.224.0 |

*Данная таблица содержит всю информацию, необходимую для запуска новой подсети, содержащей данный IP-адрес хоста.*

### Решение:

**Исходная маска:** 11111111.11111111.00000000.00000000  
**Новая маска:** 11111111.11111111.11100000.00000000  

- 3 бита под подсети
- 13 бит под хосты
- Количество созданных подсетей: 2^3 = 8
- Количество узлов в подсети: 2^13 - 2 = 8190

**"Интересный" октет в маске = 224**  
**Магическое число (шаг):** 256 - 224 = 32

**Подсети:**
- **Подсеть #1:** 172.22.0.0
- **Подсеть #2:** 172.22.32.0 (Наш IP попадает в эту сеть)

| Найти: | |
|--------|--|
| **Количество бит подсети** | 3 |
| **Количество созданных подсетей** | 8 |
| **Количество бит узлов в подсети** | 13 |
| **Количество узлов в подсети** | 8190 |
| **Сетевой адрес этой подсети** | 172.22.32.0 |
| **IPv4-адрес первого узла в этой подсети** | 172.22.32.1 |
| **IPv4-адрес последнего узла в этой подсети** | **172.22.63.254** |
| **Широковещательный IPv4-адрес в этой подсети** | **172.22.63.255** |

*Таблица поиска позволяет ввести информацию относительно новой подсети, которая включает IP-адрес хоста в данной таблице. Введите свои ответы в ячейках, помеченных как «пустые».*

---

## Проблема 4

| Дано: | |
|-------|--|
| **IP-адрес узла:** | 192.168.1.245 |
| **Исходная маска подсети:** | 255.255.255.0 |
| **Новая маска подсети:** | 255.255.255.252 |

*Данная таблица содержит всю информацию, необходимую для запуска новой подсети, содержащей данный IP-адрес хоста.*

### Решение:

**Исходная маска:** 11111111.11111111.11111111.00000000  
**Новая маска:** 11111111.11111111.11111111.11111100  

- 6 бит под подсети
- 2 бита под хосты
- **Магическое число:** 256 - 252 = 4

**Поиск подсети (от конца):**
- 192.168.1.252
- 192.168.1.248
- **192.168.1.244** (Попадание для IP 192.168.1.245)

| Найти: | |
|--------|--|
| **Количество бит подсети** | 6 |
| **Количество созданных подсетей** | 64 |
| **Количество бит узлов в подсети** | 2 |
| **Количество узлов в подсети** | 2 |
| **Сетевой адрес этой подсети** | 192.168.1.244 |
| **IPv4-адрес первого узла в этой подсети** | 192.168.1.245 |
| **IPv4-адрес последнего узла в этой подсети** | 192.168.1.246 |
| **Широковещательный IPv4-адрес в этой подсети** | 192.168.1.247 |

*Таблица поиска позволяет ввести информацию относительно новой подсети, которая включает IP-адрес хоста в данной таблице. Введите свои ответы в ячейках, помеченных как «пустые».*

---

## Проблема 5

| Дано: | |
|-------|--|
| **IP-адрес узла:** | 128.107.0.55 |
| **Исходная маска подсети:** | 255.255.0.0 |
| **Новая маска подсети:** | 255.255.255.0 |

*Данная таблица содержит всю информацию, необходимую для запуска новой подсети, содержащей данный IP-адрес хоста.*

### Решение:

**Исходная маска:** 11111111.11111111.00000000.00000000  
**Новая маска:** 11111111.11111111.11111111.00000000  

- 8 бит под подсети
- 8 бит под хосты
- Количество созданных подсетей: 2^8 = 256
- Количество узлов в подсети: 2^8 - 2 = 254

**Подсети:**
- **Подсеть #1:** 128.107.0.0 (Попадание)
- **Подсеть #2:** 128.107.1.0
- **Подсеть #3:** 128.107.2.0

| Найти: | |
|--------|--|
| **Количество бит подсети** | 8 |
| **Количество созданных подсетей** | 256 |
| **Количество бит узлов в подсети** | 8 |
| **Количество узлов в подсети** | 254 |
| **Сетевой адрес этой подсети** | 128.107.0.0 |
| **IPv4-адрес первого узла в этой подсети** | 128.107.0.1 |
| **IPv4-адрес последнего узла в этой подсети** | 128.107.0.254 |
| **Широковещательный IPv4-адрес в этой подсети** | 128.107.0.255 |

*Таблица поиска позволяет ввести информацию относительно новой подсети, которая включает IP-адрес хоста в данной таблице. Введите свои ответы в ячейках, помеченных как «пустые».*

---

## Проблема 6

| Дано: | |
|-------|--|
| **IP-адрес узла:** | 192.135.250.180 |
| **Исходная маска подсети:** | 255.255.255.0 |
| **Новая маска подсети:** | 255.255.255.248 |

*Данная таблица содержит всю информацию, необходимую для запуска новой подсети, содержащей данный IP-адрес хоста.*

### Решение:

**Исходная маска:** 11111111.11111111.11111111.00000000  
**Новая маска:** 11111111.11111111.11111111.11111000  

- 5 бит под подсети
- 3 бита под хосты
- **Магическое число:** 256 - 248 = 8

**Поиск подсети (от конца):**
- 192.135.250.248
- 192.135.250.240
- 192.135.250.232
- 192.135.250.224
- 192.135.250.216
- 192.135.250.208
- 192.135.250.200
- 192.135.250.192
- 192.135.250.184
- **192.135.250.176** (Попадание для IP 192.135.250.180)

| Найти: | |
|--------|--|
| **Количество бит подсети** | 5 |
| **Количество созданных подсетей** | 32 |
| **Количество бит узлов в подсети** | 3 |
| **Количество узлов в подсети** | 6 |
| **Сетевой адрес этой подсети** | 192.135.250.176 |
| **IPv4-адрес первого узла в этой подсети** | 192.135.250.177 |
| **IPv4-адрес последнего узла в этой подсети** | 192.135.250.182 |
| **Широковещательный IPv4-адрес в этой подсети** | 192.135.250.183 |

*Таблица поиска позволяет ввести информацию относительно новой подсети, которая включает IP-адрес хоста в данной таблице. Введите свои ответы в ячейках, помеченных как «пустые».*

---

## Вопрос для повторения

**Почему маска подсети так важна при анализе IPv4-адреса?**

**Ответ:** Маска подсети важна, потому что она определяет, какая часть IPv4-адреса относится к сети, а какая — к хосту.